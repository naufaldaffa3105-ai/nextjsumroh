/*
Barokah Umrah Landing Page - Single-file React component (Next.js-ready)
Requirements:
- Tailwind CSS configured in the project
- Framer Motion installed
- Add Arabic-friendly font in tailwind.config.js (e.g., 'Cairo' or 'Noto Kufi Arabic') and map to 'font-arabic'
- Replace placeholder images and API hooks with real endpoints

Usage: place this file in /components/BarokahLanding.jsx and import into a Next.js page.
*/

import React, { useState } from 'react';
import { motion } from 'framer-motion';

// Mock data (replace with dynamic API/CMS data)
const PACKAGES = [
  {
    id: 'p1',
    title: 'Umrah Plus Madinah - 9 Hari',
    subtitle: 'Hotel Bintang 4 • Tiket PP • Pendampingan 24/7',
    price: 'Mulai dari Rp28.500.000',
    img: '/images/mecca-1.jpg',
    features: ['Tiket PP', 'Hotel Bintang 4', 'Transportasi AC'],
    recommended: true,
  },
  {
    id: 'p2',
    title: 'Umrah Ekonomis - 7 Hari',
    subtitle: 'Pilihan hemat dengan layanan esensial',
    price: 'Mulai dari Rp18.000.000',
    img: '/images/mecca-2.jpg',
    features: ['Tiket PP', 'Hotel Bintang 3', 'Tour Guide Lokal'],
    recommended: false,
  },
  {
    id: 'p3',
    title: 'Umrah Premium - 12 Hari',
    subtitle: 'Kenyamanan maksimal, hotel dekat Masjid',
    price: 'Mulai dari Rp45.000.000',
    img: '/images/mecca-3.jpg',
    features: ['Hotel Dekat Masjid', 'Layanan VIP', 'Makanan Halal'],
    recommended: false,
  },
];

const TESTIMONIALS = [
  {
    id: 1,
    name: 'Hj. Siti Rahma',
    city: 'Jakarta',
    quote:
      'Alhamdulillah, pelayanan Barokah Umrah luar biasa! Semua teratur dan pembimbingnya sangat membantu.',
    avatar: '/images/testi-1.jpg',
  },
  {
    id: 2,
    name: 'Bapak Ahmad',
    city: 'Bandung',
    quote:
      'Perjalanan nyaman, penginapan baik, dan waktu ibadah terjaga. Sangat direkomendasikan.',
    avatar: '/images/testi-2.jpg',
  },
];

export default function BarokahLanding() {
  const [selectedPackage, setSelectedPackage] = useState(PACKAGES[0].id);
  const [form, setForm] = useState({ name: '', whatsapp: '', email: '', paket: PACKAGES[0].id, message: '' });
  const [sent, setSent] = useState(false);
  const [errors, setErrors] = useState({});

  function validate() {
    const e = {};
    if (!form.name.trim()) e.name = 'Nama wajib diisi.';
    if (!form.whatsapp.trim()) e.whatsapp = 'Nomor WhatsApp wajib diisi.';
    if (form.email && !/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(form.email)) e.email = 'Email tidak valid.';
    return e;
  }

  const handleSubmit = (ev) => {
    ev.preventDefault();
    const e = validate();
    setErrors(e);
    if (Object.keys(e).length > 0) return;

    // Simulate API call - replace with actual POST to backend or integration (WhatsApp API / Firebase / EmailJS)
    console.log('Submitting lead', form);
    setSent(true);
    setTimeout(() => setSent(false), 5000);

    // Reset minimal fields while keeping paket selection for convenience
    setForm({ ...form, name: '', whatsapp: '', email: '', message: '' });
  };

  return (
    <div className="min-h-screen bg-gradient-to-b from-green-50 to-white font-arabic text-slate-800">
      {/* Sticky header with CTA */}
      <header className="fixed inset-x-0 top-0 z-40 backdrop-blur bg-white/60 border-b border-slate-200">
        <div className="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
          <div className="flex items-center gap-3">
            <div className="w-10 h-10 bg-green-700 rounded-md flex items-center justify-center text-white font-bold">BU</div>
            <div>
              <div className="font-semibold">Barokah Umrah</div>
              <div className="text-sm text-slate-600">Bersama Menuju Tanah Suci</div>
            </div>
          </div>
          <div className="flex items-center gap-3">
            <a href="#packages" className="hidden sm:inline-block px-4 py-2 rounded-md border border-amber-500 text-amber-700 font-medium">Lihat Paket</a>
            <a href="#contact" className="inline-block px-4 py-2 rounded-md bg-amber-500 text-white font-semibold shadow">Konsultasi Gratis</a>
          </div>
        </div>
      </header>

      <main className="pt-24">
        {/* Hero */}
        <section className="relative overflow-hidden">
          <div className="absolute inset-0">
            <img src="/images/hero-mecca.jpg" alt="Mecca" className="w-full h-96 object-cover brightness-75 md:h-[520px]" />
            <div className="absolute inset-0 bg-gradient-to-b from-transparent to-green-900/20" />
          </div>

          <div className="relative max-w-6xl mx-auto px-4 py-20 md:py-32">
            <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.6 }}>
              <div className="bg-white/80 backdrop-blur rounded-xl p-6 md:p-12 max-w-3xl">
                <h1 className="text-3xl md:text-4xl font-extrabold text-slate-900">Perjalanan Suci, Penuh Berkah — Bersama Barokah Umrah</h1>
                <p className="mt-3 text-slate-700">Nikmati pengalaman umrah yang tenang, nyaman, dan berkesan bersama pembimbing berpengalaman.</p>

                <div className="mt-6 flex flex-col sm:flex-row gap-3">
                  <a href="#packages" className="inline-flex items-center justify-center px-6 py-3 rounded-md bg-amber-500 text-white font-semibold shadow hover:scale-[1.02] transform transition">Lihat Paket Umrah</a>
                  <a href="#contact" className="inline-flex items-center justify-center px-6 py-3 rounded-md border border-amber-500 text-amber-700 font-medium">Konsultasi Gratis</a>
                </div>

                <div className="mt-4 text-sm text-slate-600">Terdaftar & Tersertifikasi • Pelayanan 24/7 • Pembimbing Bersertifikat</div>
              </div>
            </motion.div>
          </div>
        </section>

        {/* Packages */}
        <section id="packages" className="max-w-6xl mx-auto px-4 py-12">
          <div className="flex items-center justify-between mb-6">
            <div>
              <h2 className="text-2xl font-bold">Paket Unggulan</h2>
              <p className="text-slate-600">Pilih paket umrah sesuai kebutuhan—ekonomis, standar, hingga premium.</p>
            </div>
            <div className="hidden sm:flex items-center gap-3">
              <select className="px-3 py-2 border rounded-md" onChange={(e) => console.log('filter', e.target.value)}>
                <option>Semua Durasi</option>
                <option>7 Hari</option>
                <option>9 Hari</option>
                <option>12 Hari</option>
              </select>
              <button className="px-3 py-2 border rounded-md">Urutkan</button>
            </div>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
            {PACKAGES.map((p) => (
              <motion.article key={p.id} whileHover={{ y: -6 }} className={`relative rounded-xl overflow-hidden border ${p.recommended ? 'border-amber-400 shadow-lg' : 'border-slate-200'} bg-white`}>
                <img src={p.img} alt={p.title} className="w-full h-44 object-cover" />
                <div className="p-4">
                  <div className="flex items-start justify-between gap-3">
                    <div>
                      <h3 className="font-semibold text-lg">{p.title}</h3>
                      <p className="text-sm text-slate-600">{p.subtitle}</p>
                    </div>
                    <div className="text-right">
                      <div className="text-amber-600 font-semibold">{p.price}</div>
                      {p.recommended && <div className="text-xs mt-1 inline-block bg-amber-100 text-amber-800 px-2 py-1 rounded">Recommended</div>}
                    </div>
                  </div>

                  <ul className="mt-3 text-sm text-slate-700 space-y-1">
                    {p.features.map((f) => (
                      <li key={f} className="flex items-center gap-2">• {f}</li>
                    ))}
                  </ul>

                  <div className="mt-4 flex items-center gap-3">
                    <button onClick={() => setSelectedPackage(p.id)} className="px-4 py-2 rounded-md border border-amber-500 text-amber-700">Lihat Detail</button>
                    <a href="#contact" onClick={() => setForm({ ...form, paket: p.id })} className="px-4 py-2 rounded-md bg-amber-500 text-white font-medium">Pesan Sekarang</a>
                  </div>
                </div>
              </motion.article>
            ))}
          </div>
        </section>

        {/* Services */}
        <section className="bg-green-50 py-12">
          <div className="max-w-6xl mx-auto px-4">
            <h2 className="text-2xl font-bold">Mengapa Memilih Kami</h2>
            <p className="text-slate-600">Layanan dirancang untuk memberikan ketenangan dan kenyamanan selama ibadah.</p>

            <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mt-6">
              <motion.div className="p-5 bg-white rounded-xl shadow-sm" whileHover={{ scale: 1.02 }}>
                <div className="text-3xl">🕌</div>
                <h4 className="font-semibold mt-3">Pembimbing Bersertifikat</h4>
                <p className="text-sm text-slate-600 mt-2">Pembimbing yang berpengalaman untuk memandu ibadah Anda dengan khusyuk.</p>
              </motion.div>

              <motion.div className="p-5 bg-white rounded-xl shadow-sm" whileHover={{ scale: 1.02 }}>
                <div className="text-3xl">✈️</div>
                <h4 className="font-semibold mt-3">Paket Lengkap & Fleksibel</h4>
                <p className="text-sm text-slate-600 mt-2">Pilih paket sesuai kebutuhan keluarga atau individu.</p>
              </motion.div>

              <motion.div className="p-5 bg-white rounded-xl shadow-sm" whileHover={{ scale: 1.02 }}>
                <div className="text-3xl">🤝</div>
                <h4 className="font-semibold mt-3">Pendampingan Sepanjang Perjalanan</h4>
                <p className="text-sm text-slate-600 mt-2">Pendamping lokal tersedia untuk membantu logistik dan kebutuhan jamaah.</p>
              </motion.div>

              <motion.div className="p-5 bg-white rounded-xl shadow-sm" whileHover={{ scale: 1.02 }}>
                <div className="text-3xl">🕰️</div>
                <h4 className="font-semibold mt-3">Layanan 24 Jam</h4>
                <p className="text-sm text-slate-600 mt-2">Tim support siap membantu kapan saja.</p>
              </motion.div>
            </div>
          </div>
        </section>

        {/* Testimonials */}
        <section className="max-w-6xl mx-auto px-4 py-12">
          <h2 className="text-2xl font-bold">Kisah Jamaah</h2>
          <p className="text-slate-600">Dengarkan pengalaman mereka yang telah berangkat bersama kami.</p>

          <div className="mt-6 grid grid-cols-1 md:grid-cols-2 gap-6">
            {TESTIMONIALS.map((t) => (
              <motion.blockquote key={t.id} className="p-6 bg-white rounded-xl border border-slate-100 shadow-sm" whileInView={{ opacity: 1 }} initial={{ opacity: 0 }}>
                <div className="flex items-start gap-4">
                  <img src={t.avatar} alt={t.name} className="w-16 h-16 rounded-full object-cover" />
                  <div>
                    <p className="text-slate-700">"{t.quote}"</p>
                    <div className="mt-3 text-sm font-semibold">{t.name} <span className="text-slate-500 font-normal">• {t.city}</span></div>
                  </div>
                </div>
              </motion.blockquote>
            ))}
          </div>
        </section>

        {/* Contact Form */}
        <section id="contact" className="bg-white py-12">
          <div className="max-w-6xl mx-auto px-4 grid grid-cols-1 md:grid-cols-2 gap-8">
            <div>
              <h2 className="text-2xl font-bold">Hubungi Kami</h2>
              <p className="text-slate-600">Isi form berikut atau langsung hubungi WhatsApp kami untuk konsultasi cepat.</p>

              <div className="mt-6 space-y-3">
                <div className="flex items-center gap-3">
                  <div className="w-10 h-10 bg-green-700 text-white rounded-md flex items-center justify-center">WA</div>
                  <div>
                    <div className="font-semibold">WhatsApp Support</div>
                    <div className="text-sm text-slate-600">Respon cepat dalam 10 menit</div>
                  </div>
                </div>

                <div className="mt-4 text-sm text-slate-500">Alamat kantor: Jl. Barokah No. 10, Jakarta • Email: info@barokahumrah.id</div>
              </div>
            </div>

            <form onSubmit={handleSubmit} className="p-6 bg-green-50 rounded-xl">
              {sent && <div className="mb-3 p-3 bg-emerald-100 border border-emerald-200 rounded">Terima kasih! Permintaan Anda telah dikirim. Kami akan menghubungi Anda segera.</div>}

              <div className="grid grid-cols-1 gap-3">
                <label className="flex flex-col">
                  <span className="text-sm font-medium">Nama Lengkap</span>
                  <input className={`mt-1 px-3 py-2 rounded-md border ${errors.name ? 'border-red-400' : 'border-slate-200'}`} value={form.name} onChange={(e) => setForm({ ...form, name: e.target.value })} />
                  {errors.name && <small className="text-red-500">{errors.name}</small>}
                </label>

                <label className="flex flex-col">
                  <span className="text-sm font-medium">Nomor WhatsApp</span>
                  <input className={`mt-1 px-3 py-2 rounded-md border ${errors.whatsapp ? 'border-red-400' : 'border-slate-200'}`} value={form.whatsapp} onChange={(e) => setForm({ ...form, whatsapp: e.target.value })} />
                  {errors.whatsapp && <small className="text-red-500">{errors.whatsapp}</small>}
                </label>

                <label className="flex flex-col">
                  <span className="text-sm font-medium">Email (Opsional)</span>
                  <input className={`mt-1 px-3 py-2 rounded-md border ${errors.email ? 'border-red-400' : 'border-slate-200'}`} value={form.email} onChange={(e) => setForm({ ...form, email: e.target.value })} />
                  {errors.email && <small className="text-red-500">{errors.email}</small>}
                </label>

                <label className="flex flex-col">
                  <span className="text-sm font-medium">Pilih Paket</span>
                  <select className="mt-1 px-3 py-2 rounded-md border border-slate-200" value={form.paket} onChange={(e) => setForm({ ...form, paket: e.target.value })}>
                    {PACKAGES.map((p) => (
                      <option key={p.id} value={p.id}>{p.title}</option>
                    ))}
                  </select>
                </label>

                <label className="flex flex-col">
                  <span className="text-sm font-medium">Pesan (Opsional)</span>
                  <textarea className="mt-1 px-3 py-2 rounded-md border border-slate-200" rows={4} value={form.message} onChange={(e) => setForm({ ...form, message: e.target.value })} />
                </label>

                <div>
                  <button type="submit" className="w-full py-3 rounded-md bg-amber-500 text-white font-semibold">Kirim Sekarang</button>
                </div>

                <div className="text-xs text-slate-500">Kami akan menjaga kerahasiaan data Anda. Dengan mengirim, Anda setuju dihubungi untuk kepentingan pemesanan.</div>
              </div>
            </form>
          </div>
        </section>

        {/* About */}
        <section className="py-12">
          <div className="max-w-6xl mx-auto px-4 grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
            <img src="/images/team.jpg" alt="Team Barokah" className="w-full rounded-xl object-cover h-72" />
            <div>
              <h2 className="text-2xl font-bold">Tentang Kami</h2>
              <p className="text-slate-600 mt-3">Barokah Umrah telah melayani ribuan jamaah sejak 2015. Kami percaya ibadah Umrah bukan sekadar perjalanan, tapi panggilan suci yang harus dijalankan dengan sepenuh hati. Dengan pengalaman dan pelayanan terbaik, kami memastikan perjalanan Anda penuh kenyamanan dan keberkahan.</p>

              <div className="mt-4 flex gap-3">
                <div className="p-3 bg-amber-50 rounded-md">📜 Tersertifikasi Kemenag RI</div>
                <div className="p-3 bg-amber-50 rounded-md">⭐ 4.9/5 Kepuasan Jamaah</div>
              </div>
            </div>
          </div>
        </section>

        {/* Footer */}
        <footer className="bg-slate-900 text-white py-8">
          <div className="max-w-6xl mx-auto px-4 flex flex-col md:flex-row items-start justify-between gap-6">
            <div>
              <div className="text-xl font-semibold">Barokah Umrah</div>
              <div className="text-sm text-slate-300 mt-1">Bersama Menuju Tanah Suci</div>
            </div>

            <div className="text-sm text-slate-300">
              <div>Alamat: Jl. Barokah No. 10, Jakarta</div>
              <div className="mt-1">Email: info@barokahumrah.id</div>
              <div className="mt-1">WhatsApp: +62 812-3456-7890</div>
            </div>

            <div className="text-sm text-slate-300">© {new Date().getFullYear()} Barokah Umrah. All rights reserved.</div>
          </div>
        </footer>

        {/* Floating CTA for mobile */}
        <div className="fixed left-4 right-4 bottom-6 md:hidden">
          <a href="#contact" className="block py-3 rounded-xl bg-amber-500 text-white text-center font-semibold shadow-lg">Konsultasi via WhatsApp</a>
        </div>
      </main>
    </div>
  );
}
